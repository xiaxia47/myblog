{% extends 'article/base.html' %}

{% load custom_markdown %}
{% block content %}
<div class="posts">
    {% if result.error %}
       <h2 class="post-title">{{result.msg}}</h2>
    {% else %}
        {% for post in post_list %}
        <section class="post">
             <header class="post-header">
             <h2 class="post-title"><a href="{% url 'article:detail' post.id %}">{{ post.title }}</a></h2>
             <p class="post-meta">
                发布时间: <a class="post-author" >{{ post.pub_date | date:"Y /m /d"}}</a><a class="post-category post-category-js" href="{% url 'article:search' post.category %}">{{ post.category|title }}</a>
             </p>
             </header>
             <div class="post-description">
                <p> {{ post.content|custom_markdown|slice:"120"}}</p>
             </div>
             <a class="pure-button" href="{% url 'article:detail' post.id %}">Read More >>></a>
        </section>
        {% endfor %}
    {% endif %}
</div>

{% endblock %}
